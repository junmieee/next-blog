---
title: [React] URLì˜ íŒŒë¼ë¯¸í„° ê°’ ì¶”ì¶œ - useLocationê³¼ useParams
date: 2022-12-26
description: ì²«ë²ˆ ì§¸ ê²Œì‹œê¸€ í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤.
thumbnail: /images/posts/first-post.jpeg
tags: 
  - React
  - useLocationê³¼
  - useParams
draft: false
---

_í•´ë‹¹ í¬ìŠ¤íŒ…ì€ í´ë¡  í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©° react-router-dom ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ URL ë¼ìš°íŒ…ì„ êµ¬í˜„í•œ ë¶€ë¶„ì„ ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤. -



### ğŸ“ URL íŒŒë¼ë¯¸í„°?
>URL íŒŒë¼ë¯¸í„°ëŠ” URL ê²½ë¡œ ë‚´ì— ë³€ìˆ˜ë¥¼ í¬í•¨í•˜ëŠ” ë° ì‚¬ìš©ë˜ë©° searchì†ì„±ì„ í†µí•´ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ê°’ì„ ì¶”ì¶œí•  ìˆ˜ ìˆë‹¤. /users/:userId ê²½ë¡œì—ì„œ :userIdê°€ URL íŒŒë¼ë¯¸í„°ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. íŠ¹ì • ì •ë³´ë¥¼ URL ê²½ë¡œì— í¬í•¨í•˜ì—¬ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ì˜ ë°ì´í„° ê³µìœ ë¥¼ ìš©ì´í•˜ê²Œ í•œë‹¤.

# ğŸ· useLocation

**`useLocation`** ì€ í˜„ì¬ ë¼ìš°íŠ¸ì˜ ìœ„ì¹˜ ì •ë³´ë¥¼ ë°˜í™˜í•˜ëŠ” í›…ìœ¼ë¡œ **`search`** ì†ì„±ì„ í†µí•´ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ê°’ì„ ì¶”ì¶œí•  ìˆ˜ ìˆë‹¤. í•´ë‹¹ ì •ë³´ëŠ” URL ê²½ë¡œ(path), ì¿¼ë¦¬ ë¬¸ìì—´(query string), URL ìƒíƒœ(state)ì •ë³´ë¥¼ í¬í•¨í•œë‹¤. 

**`useLocation`** ì€ ì•„ë˜ì™€ ê°™ì´ ê²½ë¡œ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” ê°ì²´ë¥¼ ë¦¬í„´í•œë‹¤.


```
{
pathname: '/search', 
search: '?q=%EC%8A%A4%ED%8C%8C%EC%9D%B4%EB%8D%94%EB%A7%A8', 
hash: '', 
state: null, 
key: 'default'
}

```

ì•„ë˜ì˜ ì˜ˆì œ ì½”ë“œì—ì„œ **`useQuery`** í•¨ìˆ˜ì—ì„œ **`useLoaction`** í›…ì„ ì‚¬ìš©í•´ í˜„ì¬ URL ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ ë‹¤ìŒ, **`URLSearchParams`** ë¥¼ ì‚¬ìš©í•´ íŒŒë¼ë¯¸í„° ê°’ì„ ì¶”ì¶œí–ˆë‹¤. ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ê²€ìƒ‰ì–´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê²Œ í–ˆë‹¤. 

> ğŸ’¡ **`URLSearchParams`**: URLSearchParams ê°ì²´ëŠ” í˜„ì¬ URLì˜ query stringì„ ë‹¤ë£° ìˆ˜ ìˆëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•œë‹¤. get, set, append, delete, has ë“±ì˜ ë©”ì„œë“œë¥¼ ì œê³µí•˜ë¯€ë¡œ, URL íŒŒë¼ë¯¸í„°ë¥¼ ë‹¤ë£¨ëŠ” ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.  [URLSearchParams - Mdn ê³µì‹ë¬¸ì„œ](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams) 

```
//Search.js
const SearchPage = () => {

const [searchResult, setSearchResult] = useState([]);


const useQuery = () => {
  return new URLSearchParams(useLocation().search);
}
let query = useQuery();
const searchTerm = query.get("q");  // /search?q=${e.target.value}

}
```
ê²€ìƒ‰ì–´ë¥¼ ê°€ì ¸ì˜¨ ë‹¤ìŒ TMDB APIì—ì„œ **`axios`** ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ API í˜¸ì¶œì„ í•´ í™”ë©´ì— ê·¸ë ¤ì¤€ë‹¤. 

```
//Search.js


const SearchPage = () => {

    const fetchSearchMovie = async (searchTerm) => {
        try {
            const response = await axios.get(`/search/multi?include_adult=false&query=${searchTerm}`);
            setSearchResult(response.data.results);
        } catch {
            console.log('error');
        }
    }

    return (
        <section className='search-container'>
            {searchResult.map((movie) => {
                if (movie.backdrop_path !== null && movie.media_type !== "person") {
                    const movieImageUrl = "https://image.tmdb.org/t/p/w500" + movie.backdrop_path;
                    return (

                        <>

                            <div className='movie' key={movie.id}>
                                <div className='movie__column-poster' onClick={() => handleClick(movie)} >
                                    <img src={movieImageUrl} alt="movie" className='movie__poster' />
                                </div>
                            </div>
                            {modalOpen && <DetailPage {...movieSelected} setModalOpen={setModalOpen} />}

                        </>
                    )
                }
            })}
        </section>
    )
}



```


# ğŸ· useParams
useParamsëŠ” React Router v5ë¶€í„° ë„ì…ëœ í›…ìœ¼ë¡œ, **`ë™ì ë¼ìš°íŒ…`** ì—ì„œ ì‚¬ìš©ë˜ëŠ” URL íŒŒë¼ë¯¸í„° ê°’ì„ ì¶”ì¶œí•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤.

'/users/:userId'ì™€ ê°™ì€ URL ê²½ë¡œë¥¼ ê°€ì§„ ë™ì  ë¼ìš°íŒ…ì˜ ê²½ìš° **`:userId`** ëŠ” ë™ì ìœ¼ë¡œ ë³€í•  ìˆ˜ ìˆëŠ” íŒŒë¼ë¯¸í„° ê°’ì´ë‹¤. ì´ì™€ ê°™ì€ URLê²½ë¡œì— ë§¤ì¹­ë˜ëŠ” ê²½ìš° **`useParams`** ë¥¼ ì‚¬ìš©í•´ ì•„ë˜ì™€ ê°™ì´ URL íŒŒë¼ë¯¸í„° ê°’ì„ ì¶”ì¶œí•  ìˆ˜ ìˆë‹¤. 

```
import { useParams } from 'react-router-dom';

function User() {
  const { userId } = useParams();

  return (
    <div>User ID: {userId}</div>
  );
}
```

ì´ë ‡ê²Œ ì¶”ì¶œëœ íŒŒë¼ë¯¸í„° ê°’ì„ ì´ìš©í•´ **`userID`** ë¡œ í•´ë‹¹ ìœ ì €ì˜ ì •ë³´ë¥¼ ì„œë²„ì—ì„œ ê°€ì ¸ì™€ ë Œë”ë§ í•  ìˆ˜ ìˆë‹¤. 

```
import { useParams } from 'react-router-dom';
import { useEffect, useState } from 'react';

function User() {
  const { userId } = useParams();
  const [user, setUser] = useState(null);

  useEffect(() => {
    // ì„œë²„ì—ì„œ userIdì— í•´ë‹¹í•˜ëŠ” ìœ ì € ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
    fetch(`/api/users/${userId}`)
      .then(response => response.json())
      .then(data => setUser(data));
  }, [userId]);

  if (!user) {
    return <div>Loading...</div>;
  }

  return (
    <div>
      <div>User ID: {user.id}</div>
      <div>Name: {user.name}</div>
      <div>Email: {user.email}</div>
    </div>
  );
}
```
